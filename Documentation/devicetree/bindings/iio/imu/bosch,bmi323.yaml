# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)

%YAML 1.2
---
$id: http://devicetree.org/schemas/iio/imu/bosch,bmi323.yaml#

$schema: http://devicetree.org/meta-schemas/core.yaml#
title: Bosch BMI323 6-Axis IMU

maintainers:

  - Jagath Jog J <jagathjog1996@gmail.com>



description:

  BMI323 is a 6-axis inertial measurement unit that supports acceleration and

  gyroscopic measurements with hardware fifo buffering. Sensor also provides

  events information such as motion, steps, orientation, single and double

  tap detection.

properties:

  compatible:

    const: bosch,bmi323

  reg:

    maxItems: 1

  interrupts:

    maxItems: 1

  interrupt-names:

    enum:

      - INT1

      - INT2

    description: |

      set to "INT1" if INT1 pin should be used as interrupt input, set

      to "INT2" if INT2 pin should be used instead

  drive-open-drain:

    description: |

      set if the specified interrupt pin should be configured as

      open drain. If not set, defaults to push-pull.

required:

  - compatible

  - reg

allOf:

  - $ref: /schemas/spi/spi-peripheral-props.yaml#

unevaluatedProperties: false

examples:

  - |

    // Example for I2C

    #include <dt-bindings/interrupt-controller/irq.h>

    i2c {

        #address-cells = <1>;

        #size-cells = <0>;


        bmi323@68 {

            compatible = "bosch,bmi323";

            reg = <0x68>;

            interrupt-parent = <&gpio1>;

            interrupts = <29 IRQ_TYPE_EDGE_RISING>;

            interrupt-names = "INT1";

        };

    };

  - |

    // Example for SPI

    #include <dt-bindings/interrupt-controller/irq.h>

    spi {

        #address-cells = <1>;

        #size-cells = <0>;


        bmi323@0 {

            compatible = "bosch,bmi323";

            reg = <0>;

            spi-max-frequency = <10000000>;

            interrupt-parent = <&gpio2>;

            interrupts = <12 IRQ_TYPE_EDGE_FALLING>;

            interrupt-names = "INT2";

        };

    };
